# 초기 홈 레이아웃 개편 가이드

## 네비게이션 구조
- `AppShell`
  - 상단 TopBar: 좌측 브랜드 아이콘/위치 뱃지, 중앙 검색 입력(버튼 클릭 시 확장), 우측 알림/환경 메뉴
  - FloatingActionDock: 홈 지도 위에 겹쳐지는 둥둥 떠 있는 버튼 세트
    - `Trip` : 추천 코스 진입 및 생성
    - `Profile` : 사용자 정보, 설정 진입
    - `QuickAction` : 미션 체크, 친구 초대 등 컨텍스트 메뉴
  - 홈 피드 시트: 지도 위에서 초Peek 상태로 떠 있다가 스와이프 시 Half/Full 화면으로 확장

## 화면 레이아웃

### 1. 탐색 홈 (Home)
```
┌──────────────────────────────────────────┐
│ TopBar : [로고]  검색 입력(축소)  [알림] │
├──────────────────────────────────────────┤
│                  지도                    │
│        (필터 + 위치 + 루트 정보)         │
│                                          │
├──────────────────────────────────────────┤
│ Peek Sheet (16%) : 오늘의 미션 미니 카드 │
│                추천 CTA / 빠른 액션      │
└──────────────────────────────────────────┘
```
- 검색 버튼을 누르면 TopBar 중앙 필드가 200ms easeOutCubic 애니메이션으로 확장되며 검색 전용 탭이 오버레이된다.
- 플로팅 도크에서 Trip(Profile) 버튼을 탭하면 각각의 뷰가 모달 시트로 겹쳐 뜬다.

### 2. 트립 패널 (Overlay)
```
┌───────────────────────────────┐
│ Trip Planner [닫기]           │
├───────────────────────────────┤
│ 요약 배지 / 시간 · 예산 필터   │
│ 추천 카드 Carousel            │
│ TripPlaceStepper              │
│ CTA : 바로 시작 / 저장        │
└───────────────────────────────┘
```
- 홈 화면 위에 반투명 모달로 겹쳐지며, 닫기 시 지도 상태 유지.

### 3. 검색 탭 (Expanding Tab)
```
┌───────────────────────────────┐
│ 검색창 (확장)  [필터 칩]       │
├───────────────────────────────┤
│ 최근 검색 / 추천 키워드       │
│ 카테고리 · 태그 카드          │
│ 장소 리스트 (거리/태그)       │
└───────────────────────────────┘
```
- TopBar 확장 애니메이션 이후 전체 화면을 커버하며, 뒤로가기 시 이전 지도 상태로 복귀.

### 4. 프로필 모달
```
┌───────────────────────────────┐
│ Profile [닫기]                │
├───────────────────────────────┤
│ 사용자 카드                   │
│ 활동 요약 / 친구 / 파티       │
│ 환경 설정 리스트              │
└───────────────────────────────┘
```

## 공통 컴포넌트
- `BadgeChip`, `MissionChecklistItem`, `TripPlaceStepper`, `FeedbackQuickRate`
- `FloatingActionDock` : Trip / Profile / QuickAction 버튼 묶음
- `ExpandingSearchBar` : TopBar 검색 애니메이션 컴포넌트

## 사용자 시나리오 요약
1. 홈 지도에서 추천 CTA → 플로팅 도크 Trip 버튼 → 추천 코스 모달 확인
2. 검색 버튼 탭 → 상단 검색바 확장 → 필터 적용 후 장소 탐색
3. 미션 체크, 친구 초대 등은 QuickAction에서 실행
4. 프로필 버튼 → 모달에서 설정/활동 확인 후 닫기

## 디자인 참고 사항
- BottomNavigationBar 제거, 주요 내비게이션은 TopBar + FloatingActionDock으로 통일
- 지도 영역은 최소 화면의 60% 유지, 피드는 sheet 확장 방식으로 노출
- 애니메이션 200~250ms, `Curves.easeOutCubic` 활용
- 탭/모달이 열려도 지도 렌더링 상태는 유지하여 컨텍스트 지속
